<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goalsetter Admin Panel</title>
    <link rel="stylesheet" href="/admin/assets/css/admin.css">
    <script>
        // Client context
        window.clientId = 'st';
        window.projectId = 'goalsetter';
        
        // Set timezone to CST
        window.timezone = 'America/Chicago';
        
        // Format dates in CST
        window.formatDate = (date) => {
            return new Date(date).toLocaleString('en-US', {
                timeZone: window.timezone,
                dateStyle: 'full',
                timeStyle: 'long'
            });
        };
    </script>
    <!-- Core admin scripts -->
    <script src="/admin/assets/js/auth.js" defer></script>
    <script src="/admin/assets/js/chat.js" defer></script>
    <script src="/admin/assets/js/monitor.js" defer></script>
    <!-- Page specific scripts -->
    <script src="/admin/assets/js/admin.js" defer></script>
    <script src="/admin/assets/js/review_session.js" defer></script>
</head>
<body>
    <!-- Loading indicator -->
    <div id="loading-indicator" class="loading-screen">
        <div class="loader"></div>
        <p>Loading admin panel...</p>
    </div>
    
    <!-- Authentication error -->
    <div id="auth-error" class="auth-error" style="display: none;">
        <h2>Authentication Error</h2>
        <p>You do not have permission to access this page.</p>
        <button onclick="location.href='/admin'">Return to Admin Dashboard</button>
    </div>
    
    <div id="admin-content" style="display: none">
        <!-- Breadcrumbs -->
        <nav class="breadcrumbs">
            <a href="/admin">Admin</a> &gt;
            <a href="/admin/pages/st">ST</a> &gt;
            <a href="/admin/pages/st/goalsetter">Goalsetter</a> &gt;
            <span>Admin Panel</span>
        </nav>

        <!-- Action buttons -->
        <div class="admin-actions">
            <button class="primary-button" onclick="window.open('/clients/st/goalsetter/goalsetter.html', '_blank')">Open Live</button>
            <button class="primary-button" onclick="window.open('/clients/st/goalsetter/goalsetter_temp.html', '_blank')">Open Preview</button>
        </div>

        <div class="admin-container">
            <div class="left-panel">
                <!-- Navigation Tree -->
                <ul class="nav-tree">
                    <li><a href="#review" class="active">Review Session</a></li>
                    <li><a href="#settings">Settings</a></li>
                    <li><a href="#reports">Reports</a></li>
                </ul>
            </div>
            <div class="right-panel">
                <!-- Tabs -->
                <div class="tab-container">
                    <div class="tab active" data-tab="review">Review Session</div>
                    <div class="tab" data-tab="settings">Settings</div>
                    <div class="tab" data-tab="reports">Reports</div>
                </div>
                
                <!-- Tab Content -->
                <div class="tab-content active" id="review">
                    <!-- Review session content will be loaded here -->
                </div>
                
                <div class="tab-content" id="settings" style="display: none;">
                    <!-- Settings content will be loaded here -->
                    <h2>Settings</h2>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="mode-selector">Display Mode:</label>
                            <select id="mode-selector">
                                <option value="prod">Production</option>
                                <option value="temp" selected>Temporary</option>
                                <option value="review">Review</option>
                            </select>
                        </div>
                        <button class="primary-button" id="save-settings">Save Settings</button>
                    </div>
                </div>
                
                <div class="tab-content" id="reports" style="display: none;">
                    <!-- Reports content will be loaded here -->
                    <h2>Usage Reports</h2>
                    <div class="report-filters">
                        <label for="date-range">Date Range:</label>
                        <select id="date-range">
                            <option value="7">Last 7 days</option>
                            <option value="30" selected>Last 30 days</option>
                            <option value="90">Last 90 days</option>
                        </select>
                        <button class="refresh-button">Refresh</button>
                    </div>
                    <div id="report-container">
                        <p>Select a date range and click refresh to load reports.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer style="text-align: center; padding: 10px;">
        v.1.0.4 push April 5 12:00pm CST
    </footer>
</body>
</html> 