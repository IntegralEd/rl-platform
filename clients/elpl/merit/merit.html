<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Merit – Teacher and Leader Support Chat for EL Education Language Arts Curriculum">
  <meta name="theme-color" content="#c6123f">
  <title>Merit – Teacher Support | EL Education</title>

  <!-- ===== Stylesheets ===== -->
  <link rel="icon" type="image/x-icon" href="/clients/elpl/assets/images/client-elpl-favicon.ico">
  <link rel="stylesheet" href="/clients/elpl/assets/css/client-elpl-variables.css">
  <link rel="stylesheet" href="/clients/elpl/assets/css/client-elpl.css">
  <link rel="stylesheet" href="assets/css/client-merit-chat.css">
  <link rel="stylesheet" href="assets/css/client-merit.css">

  <!-- ===== Environment Config: keep in head ===== -->
  <script>
    const BUILD_TIMESTAMP='20240422T172600Z';
    window.env={
      /* ---- core ---- */
      SCHEMA_VERSION:'04212025.B01',
      BUILD_DATE:BUILD_TIMESTAMP.slice(0,8),
      BUILD_TIME:`${BUILD_TIMESTAMP.slice(9,11)}:${BUILD_TIMESTAMP.slice(11,13)}:${BUILD_TIMESTAMP.slice(13,15)}`,
      BUILD_VERSION:'1.16',
      BUILD_TIMESTAMP,
      /* ---- dev flags ---- */
      ENABLE_MOCK_MODE:true,
      SKIP_API_VALIDATION:true,
      SKIP_AUTH:true,
      DEBUG_MODE:true,
      /* ---- mock API ---- */
      RL_API_GATEWAY_ENDPOINT:'https://mock.api',
      RL_API_FALLBACK_ENDPOINT:null,
      RL_API_KEY:'dev-key',
      RL_API_TIMEOUT:1,
      RL_API_RETRY_ATTEMPTS:0,
      /* ---- assistant ids ---- */
      MERIT_ASSISTANT_ID:'mock-assistant',
      OPENAI_PROJECT_ID:'mock-project',
      MERIT_ORG_ID:'mock-org',
      /* ---- CORS ---- */
      CORS_ORIGIN:'*',
      CORS_METHODS:'*',
      CORS_HEADERS:'*'
    };
    console.log('[Merit] Dev mode');
  </script>
  <!-- ⬆️  No other scripts in <head>  -->
</head>
<body>
  <!-- Pre‑header span (needs to be in body) -->
  <span id="header-span" style="display:none" data-user-email="" data-user-name="" data-user-id="" data-access-level="" data-last-login=""></span>

  <div class="rl-layout">
    <aside class="client-sidebar">
      <div class="client-sidebar__header"><img src="/clients/elpl/assets/images/client-elpl-logo-crimson.png" alt="EL Education" class="client-sidebar__logo"><div class="client-sidebar__subtitle">Professional Learning</div></div>
      <nav class="client-sidebar__nav"><ul><li><a href="#welcome" class="client-nav__item" data-section="welcome">Welcome</a></li><li><a href="#chat" class="client-nav__item" data-section="chat">Chat</a></li></ul></nav>
    </aside>

    <header class="rl-header"></header>

    <main class="client-content">
      <!-- Welcome Section -->
      <section id="welcome-section" class="section active" data-section="welcome">
        <div class="welcome-header"><h1 class="welcome-title">Merit</h1><p class="welcome-subtitle">Curriculum Support Assistant</p></div>
        <form id="welcome-form">
          <div class="welcome-flex-row">
            <div class="client-welcome__grade-options-card">
              <h2 style="margin:0 0 24px 0;color:var(--elpl-primary);font-size:1.75rem;font-weight:700">Select Grade Level(s)</h2>
              <div class="client-welcome__grade-options" id="gradeSelect">
                <div class="grade-option" data-grade="K" tabindex="0"><span class="star-icon">☆</span>Kindergarten</div>
                <div class="grade-option" data-grade="1" tabindex="0"><span class="star-icon">☆</span>Grade&nbsp;1</div>
                <div class="grade-option" data-grade="2" tabindex="0"><span class="star-icon">☆</span>Grade&nbsp;2</div>
                <div class="grade-option" data-grade="3" tabindex="0"><span class="star-icon">☆</span>Grade&nbsp;3</div>
                <div class="grade-option" data-grade="4" tabindex="0"><span class="star-icon">☆</span>Grade&nbsp;4</div>
                <div class="grade-option" data-grade="5" tabindex="0"><span class="star-icon">☆</span>Grade&nbsp;5</div>
              </div>
            </div>
            <button id="nextButton" class="client-welcome__next-button" disabled>Start Chatting</button>
          </div>
        </form>
      </section>

      <!-- Chat Section -->
      <section id="chat-section" class="section" data-section="chat" hidden>
        <div class="chat-frame">
          <div id="chatWindow" class="chat-messages" role="log" aria-live="polite"></div>
          <div class="client-chat__input-container">
            <textarea id="chatInput" class="client-chat__input" rows="1" placeholder="Type your message…"></textarea>
            <button id="sendButton" disabled>Send</button>
          </div>
        </div>
      </section>
    </main>

    <footer class="rl-footer"></footer>
  </div>

  

  <!-- ===== CORE MODULES (very last) ===== -->
  <script type="module" src="assets/js/client-merit-openai.js"></script>
  <script type="module" src="assets/js/client-merit-instructional-flow.js"></script>
</body>
</html>
